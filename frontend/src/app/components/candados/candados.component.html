<div class="container p-5">
    <div class="row">
        <!-- FORM CANDADO -->
        <div class="col-md-4">
            <div class="card">
                <h4 class="text-center text-primary m-3">{{titulo}}</h4>
                <div class="card-body">
                    <form #candadoForm="ngForm" (ngSubmit)="addCandado(candadoForm)">

                        <input type="hidden" name="_id" [(ngModel)]="candadoService.selectedCandado._id">

                        <div class="form-group">
                            <label for="nombre">Nombre: </label>
                            <input type="text" class="form-control" name="nombre" [(ngModel)]="candadoService.selectedCandado.nombre" [disabled]="isEditing">
                        </div>
                        <div class="form-group">
                            <label for="laptitud">Laptitud: </label>
                            <input type="number" class="form-control" name="laptitud" [(ngModel)]="candadoService.selectedCandado.laptitud" [disabled]="isEditing">
                        </div>
                        <div class="form-group">
                            <label for="Longitud">Longitud: </label>
                            <input type="number" class="form-control" name="longitud" [(ngModel)]="candadoService.selectedCandado.longitud" [disabled]="isEditing">
                        </div>
                        <div class="form-group">
                            <label for="ultimoRegistro">Ultimo Registro: </label>
                            <input type="text" class="form-control" name="ultimoRegistro" [(ngModel)]="candadoService.selectedCandado.ultimoRegistro" [disabled]="isEditingUltimoRegistro">
                        </div>
                        <div class="form-group">
                            <label for="estadoCerrojo">Estado de Cerrojo: </label>
                            <input class="form-control" name="estadoCerrojo" [(ngModel)]="candadoService.selectedCandado.estadoCerrojo" [disabled]="isEditingEstadoCerrojo">
                        </div>

                        <div class="form-group">
                            <label>Imagen: </label>
                            <select class="form-control" name="imagen" [disabled]="isEditing" [(ngModel)]="candadoService.selectedCandado.imagen">
                                <option value="../../../assets/imagenes/batman.png">
                                    Imagen 1
                                </option>
                                <option value="../../../assets/imagenes/wolverine.png">
                                    Imagen 2
                                </option>
                                <option value="../../../assets/imagenes/linterna-verde.png">
                                    Imagen 3
                                </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="terminalID">Terminal ID: </label>
                            <input type="text" class="form-control" name="terminalID" [(ngModel)]="candadoService.selectedCandado.terminalID" [disabled]="isEditing">
                        </div>

                        <button class="btn btn-secondary mr-2" (click)="limpiarCampos(candadoForm)"> Limpiar</button>

                        <button class="btn btn-primary">Guardar</button>

                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Nombre</th>
                            <th scope="col">Laptitud</th>
                            <th scope="col">Longitud</th>
                            <th scope="col">Ultimo Registro</th>
                            <th scope="col">Estado Cerrojo</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let candado of candadoService.candados">
                            <td>{{candado.nombre}}</td>
                            <td>{{candado.laptitud}}</td>
                            <td>{{candado.longitud}}</td>
                            <td>{{candado.ultimoRegistro | date: 'mediumDate'}}</td>
                            <td>
                                <div *ngIf="candado.estadoCerrojo == 'Abierto'">
                                    <span class="badge badge-pill badge-success">{{candado.estadoCerrojo}}</span>
                                </div>
                                <div *ngIf="candado.estadoCerrojo == 'Cerrado'">
                                    <span class="badge badge-pill badge-danger">{{candado.estadoCerrojo}}</span>
                                </div>
                            </td>
                            <td>
                                <button class="btn btn-secondary btn-sm m-2" (click)="actualizarUltimoRegistro(candado)">
                                    Actualizar Ultimo Registro
                                </button>
                                <button class="btn btn-success btn-sm m-2">
                                    Actualizar Estado Cerrojo
                                </button>

                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>